!function(e,t,s){"use strict";function i(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}s("#newsletterPopup").show();var n=!1,o=function(){s(".confirm-popup").hide(),s(".form-popup").show();var e=s(".newsletter-modal-body"),t=e.find(".newsletter-email-field").find("input"),o=s("#subscribe-submit-btn"),r=e.find("#emailMissing"),a=s("#newsletter-email").val();s("#newsletterSubscribeStatus").hide(),s("#newsletterPopup").find(".modal-header-main").show(),s("#newsletterPopup").find(".modal-header-alt").hide(),r.hide(),t.val(""),o.removeAttr("disabled"),i(a)?(t.val(a),n=!0,s("#subscribe-submit-btn").trigger("click"),s(".form-popup").hide()):(r.show(),o.attr("disabled","disabled"),s("#newsletter-email").val(""),n=!1),s("#newsletterPopup .newsletter-modal").slideDown(),s(".modal-bg").fadeIn(),t.on("input propertychange paste",function(){i(t.val())?(n=!0,r.hide(),o.removeAttr("disabled")):(r.show(),o.attr("disabled","disabled"),n=!1)})};s("#newsletter-email").on("keypress",function(e){13===e.keyCode&&o()}),s("#subscribe-btn").on("click",function(){o()}),s("#sendy-subscribe-form").on("keypress",function(e){13===e.keyCode&&n&&(e.preventDefault(),s(this).submit())}),s("#subscribe-submit-btn").on("click",function(e){e.preventDefault(),s("#subscribe-submit-btn").attr("disabled","disabled"),s("#sendy-subscribe-form").submit()}),s(".close-popup").on("click",function(){s("#newsletterPopup .newsletter-modal").slideUp(),s(".modal-bg").fadeOut()}),s("#sendy-subscribe-form").on("submit",function(e){e.preventDefault();var t=s(this),i=t.find('input[name="email"]').val(),n=t.attr("action");s("#newsletterSubscribeStatus").hide(),s.ajax({url:n,data:JSON.stringify({email:i}),method:"POST",contentType:"application/json",statusCode:{202:function(){s(".form-popup").hide(),s(".confirm-popup").show()},400:function(){s(".form-popup").show(),s("#newsletterSubscribeStatus").text("Your email address is invalid."),s("#newsletterSubscribeStatus").show()},500:function(){s(".form-popup").show(),s("#newsletterSubscribeStatus").text("Sorry, unable to subscribe. Please try again later!"),s("#newsletterSubscribeStatus").show()}}})})}(window,document,window.jQuery);